<!DOCTYPE html>
<html lang="zxx">
<head>
	<!-- Meta Tag -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name='copyright' content=''>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<!-- Title Tag  -->
    <title>Eshop - eCommerce HTML5 Template.</title>
	<!-- Favicon -->
	<link rel="icon" type="image/png" href="images/favicon.png">
	<!-- Web Font -->
	<link href="https://fonts.googleapis.com/css?family=Poppins:200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap" rel="stylesheet">
	
	<!-- StyleSheet -->
	
	<!-- Bootstrap -->
	<link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/magnific-popup.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/font-awesome.css') }}">
<link rel="stylesheet" fhref="{{ url_for('static', filename='css/jquery.fancybox.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/themify-icons.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/niceselect.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/animate.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/flex-slider.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/owl-carousel.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/slicknav.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/reset.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/responsive.css') }}">
	    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

	<link rel="stylesheet" href="{{ url_for('static', filename='css/myListings.css') }}">
    
	
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    
	
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/product.css') }}">

	
</head>
<body class="js">











































<body>

<div class="container mt-5 mb-5">
    <div class="row d-flex justify-content-center">
        <div class="col-md-10">
            <div class="card">
                <div class="row">
                    <div class="col-md-6">
						<div class="images p-3">
						<div class="text-center p-4">
    						<img id="main-image" src="{{ url_for('static',  filename=imagePaths[0][7:]) }}" width="250" />
						</div>

						<div class="thumbnail text-center">
    						{% for imagePath in imagePaths %}
       						 <img onclick="change_image(this)" src="{{ url_for('static', filename=imagePath[7:]) }}" width="100" height="100">
    						{% endfor %}
						</div>

						</div>

                </div>
        			<div class="col-md-6">
    				<div class="product p-4">
        			<div class="d-flex justify-content-between align-items-center">
           <a href="{{ url_for('home') }}">
  <div class="d-flex align-items-center">
    <i class="fa fa-long-arrow-left"></i>
    <span class="ml-1">Back</span>
  </div>
</a>
<a href="{{ url_for('home') }}">
  <i class="fa fa-shopping-cart text-muted"></i>
</a>			</div>
        			{% for product in products %}
        			<div class="mt-4 mb-3"> <span class="text-uppercase text-muted brand"></span>
            <h5 class="text-uppercase">{{ product[1] }}</h5>
            <div class="price d-flex flex-row align-items-center">
                <span class="act-price">{{ product[4] }}</span>
                <div class="ml-2">

                </div>
            </div>
        			</div>
        			<p class="about">{{ product[3] }}</p>
        			<p class="about">{{ product[2] }}</p>


					<br><br><br><br><br><br><br>
        			<div class="cart mt-4 align-items-center">
<button class="btn btn-danger text-uppercase mr-2 px-4 sellerProfile" data-product-id="{{ product[0] }}">View Seller</button>

			<button class="btn btn-danger text-uppercase mr-2 px-4 addToCartButton" data-product-id="{{ product[0] }}">Add to cart</button>
 <button class="btn btn-danger text-uppercase mr-2 px-4">Chat</button>
            <button class="btn btn-danger text-uppercase mr-2 px-4">Buy Now</button>
             
			<i class="fa fa-heart text-muted addToWishlistIcon" data-product-id="{{ product[0] }}"></i>

        			</div>
        			{% endfor %}
   			 </div>
</div>

                </div>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JavaScript bundle (includes Popper.js) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script>
    function change_image(image) {
        var container = document.getElementById("main-image");
        container.src = image.src;
    }
</script>

<script>
    document.querySelectorAll('.addToCartButton').forEach(button => {
        button.addEventListener('click', addToCart);
    });

    function addToCart(event) {
        event.preventDefault();
        const productId = this.getAttribute('data-product-id');
        const form = document.createElement('form');
        form.action = '/cart';
        form.method = 'POST';
        const input = document.createElement('input');
        input.type = 'hidden';
        input.name = 'productId';
        input.value = productId;
        form.appendChild(input);
        document.body.appendChild(form);
        form.submit();
    }
</script>

<script>
    document.querySelectorAll('.addToWishlistIcon').forEach(icon => {
        icon.addEventListener('click', addToWishlist);
    });

    function addToWishlist(event) {
        event.preventDefault();
        const productId = this.getAttribute('data-product-id');
        const form = document.createElement('form');
        form.action = '/wishlist';
        form.method = 'POST';
        const input = document.createElement('input');
        input.type = 'hidden';
        input.name = 'productId';
        input.value = productId;
        form.appendChild(input);
        document.body.appendChild(form);
        form.submit();
    }
</script>


<script>
    document.querySelectorAll('.sellerProfile').forEach(button => {
        button.addEventListener('click', sellerProfile);
    });

    function sellerProfile(event) {
        event.preventDefault();
        const productId = this.getAttribute('data-product-id');
        const form = document.createElement('form');
        form.action = '/sellerProfile';
        form.method = 'POST';
        const input = document.createElement('input');
        input.type = 'hidden';
        input.name = 'productId';
        input.value = productId;
        form.appendChild(input);
        document.body.appendChild(form);
        form.submit();
    }
</script>
</body>
</html>




























































	<!-- /End Footer Area -->
 <!-- Jquery -->
<script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery-migrate-3.0.0.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery-ui.min.js') }}"></script>
<!-- Popper JS -->
<script src="{{ url_for('static', filename='js/popper.min.js') }}"></script>
<!-- Bootstrap JS -->
<script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
<!-- Color JS -->
<script src="{{ url_for('static', filename='js/colors.js') }}"></script>
<!-- Slicknav JS -->
<script src="{{ url_for('static', filename='js/slicknav.min.js') }}"></script>
<!-- Owl Carousel JS -->
<script src="{{ url_for('static', filename='js/owl-carousel.js') }}"></script>
<!-- Magnific Popup JS -->
<script src="{{ url_for('static', filename='js/magnific-popup.js') }}"></script>
<!-- Waypoints JS -->
<script src="{{ url_for('static', filename='js/waypoints.min.js') }}"></script>
<!-- Countdown JS -->
<script src="{{ url_for('static', filename='js/finalcountdown.min.js') }}"></script>
<!-- Nice Select JS -->
<script src="{{ url_for('static', filename='js/nicesellect.js') }}"></script>
<!-- Flex Slider JS -->
<script src="{{ url_for('static', filename='js/flex-slider.js') }}"></script>
<!-- ScrollUp JS -->
<script src="{{ url_for('static', filename='js/scrollup.js') }}"></script>
<!-- Onepage Nav JS -->
<script src="{{ url_for('static', filename='js/onepage-nav.min.js') }}"></script>
<!-- Easing JS -->
<script src="{{ url_for('static', filename='js/easing.js') }}"></script>
<!-- Active JS -->
<script src="{{ url_for('static', filename='js/active.js') }}"></script>


<script>
    // Get all elements with the class 'addToWishlistIcon'
    var addToWishlistIcons = document.querySelectorAll('.addToWishlistIcon');

    // Attach a click event listener to each icon
    addToWishlistIcons.forEach(function(icon) {
        icon.addEventListener('click', function() {
            // Get the product ID from the 'data-product-id' attribute
            var productId = this.getAttribute('data-product-id');

            // Create a new FormData object to store the product ID
            var formData = new FormData();
            formData.append('productId', productId);

            // Use the fetch API to send a POST request
            fetch('/wishlist', {
                method: 'POST',
                body: formData
            })
            .then(response => {
                if (response.ok) {
                    // Wishlist item added successfully
                    console.log('Wishlist item added successfully.');
                } else {
                    // Handle error
                    console.error('Failed to add item to wishlist.');
                }
            })
            .catch(error => {
                console.error('Error:', error);
            });
        });
    });
</script>


</body>
</html>


